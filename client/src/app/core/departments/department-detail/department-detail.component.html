<div class="page-department-detail">
    <div *ngIf="department;then departmentCard else noDepartment"></div>
</div>

<ng-template #departmentCard>
    <mat-card>
        <mat-card-subtitle>
            {{department?.departmentId}}
        </mat-card-subtitle>

        <mat-card-title>
            {{department?.departmentName}}
        </mat-card-title>
        <mat-card-content>
            <ul>
                <li *ngIf="department?.location?.postalCode">Postal Code : {{department?.location?.postalCode}}</li>
                <li>Street Address : {{department?.location?.streetAddress}}</li>
                <li *ngIf="department?.location?.city">City : {{department?.location?.city}}</li>
                <li *ngIf="department?.location?.stateProvince">State Province : {{department?.location?.stateProvince}}</li>
            </ul>
            <mat-tab-group>
                <mat-tab label="Employees">
                    <app-employees-table></app-employees-table>
                </mat-tab>

                <mat-tab label="Job History">
                    <app-job-history-table [jobHistoryCollection]="department?.jobHistories||[]"></app-job-history-table>
                </mat-tab>
            </mat-tab-group>
        </mat-card-content>
        <mat-card-actions></mat-card-actions>
        <mat-card-footer *ngIf="loading$|async">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </mat-card-footer>
    </mat-card>
</ng-template>

<ng-template #noDepartment>
    
</ng-template>
