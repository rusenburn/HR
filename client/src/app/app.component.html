<div class="page-app">
  <mat-toolbar color="primary">
    <div class="toolbar-links-container">
      <button mat-button class="toolbar-burger" (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <a mat-button routerLink="/index" class="toolbar-link">Home</a>
      <a mat-button routerLink="/regions" class="toolbar-link">Regions</a>
      <a mat-button routerLink="/countries" class="toolbar-link">Countries</a>
      <a mat-button routerLink="/departments" class="toolbar-link">Departments</a>
      <a mat-button routerLink="/jobs" class="toolbar-link">Jobs</a>
      <a mat-button routerLink="/employees" class="toolbar-link">Employees</a>
      <a mat-button routerLink="/job-history" class="toolbar-link">Job History</a>
      <ng-container [ngTemplateOutlet]="(logged$|async)?logged:login">
      </ng-container>
    </div>
  </mat-toolbar>
</div>
<mat-drawer-container>
  <mat-drawer mode="over" #sidenav>
    <mat-nav-list>
      <a mat-list-item routerLink="/index" (click)="sidenav.close()">
        Home
      </a>
      <a mat-list-item routerLink="/regions" (click)="sidenav.close()">
        Regions
      </a>
      <a mat-list-item routerLink="/countries" (click)="sidenav.close()">
        Countries
      </a>
      <a mat-list-item routerLink="/departments" (click)="sidenav.close()">
        Departments
      </a>
      <a mat-list-item routerLink="/jobs" (click)="sidenav.close()">
        Jobs
      </a>
      <a mat-list-item routerLink="/employees" (click)="sidenav.close()">
        Employees
      </a>
      <a mat-list-item routerLink="/job-history" (click)="sidenav.close()">
        Job History
      </a>
      <mat-divider>
      </mat-divider>
      <ng-container [ngTemplateOutlet]="(logged$|async)?loggedSidenav:loginSidenav">
      </ng-container>
    </mat-nav-list>
  </mat-drawer>
  <mat-drawer-content>
    <router-outlet></router-outlet>
  </mat-drawer-content>
</mat-drawer-container>

<ng-template #logged>
  <a mat-button class="toolbar-link" ng>Hello {{username$|async}}</a>
  <button mat-button class="toolbar-link" (click)="onLogout()">Logout</button>
</ng-template>

<ng-template #login>
  <a mat-button routerLink="/account/login" class="toolbar-link">Login</a>
  <a mat-button routerLink="/account/register" class="toolbar-link">Register</a>
</ng-template>

<ng-template #loggedSidenav>
  <a mat-list-item>
    Hello {{username$|async}}
  </a>
  <button mat-list-item (click)="onLogout()">Logout</button>
</ng-template>
<ng-template #loginSidenav>
  <a mat-list-item routerLink="/account/login" (click)="sidenav.close()">Login</a>
  <a mat-button routerLink="/account/register" (click)="sidenav.close()">Register</a>
</ng-template>